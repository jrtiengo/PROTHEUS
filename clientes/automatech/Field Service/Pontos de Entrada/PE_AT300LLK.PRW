/*

ฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑ
ฑฑษออออออออออัออออออออออหอออออออัออออออออออออออออออออหออออออัอออออออออออออปฑฑ
ฑฑบPrograma  ณAT300LLK  บAutor  ณSamuel Schneider    บ Data ณ  11/05/11   บฑฑ
ฑฑฬออออออออออุออออออออออสอออออออฯออออออออออออออออออออสออออออฯอออออออออออออนฑฑ
ฑฑบDesc.     ณ Programa que nใo permite a inclusao de mais um chamado     บฑฑ
ฑฑบ          ณ na rotina de chamado Tecnico                               บฑฑ
ฑฑฬออออออออออุออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออนฑฑ
ฑฑบUso       ณ AP                                                         บฑฑ
ฑฑศออออออออออฯออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผฑฑ
ฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑฑ
฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿
*/

USER FUNCTION AT300LLK()

   Local _lret := .t.         

   Local _Ocorrencia := aScan(aHeader,{|x| AllTrim(x[2])=="AB2_CODPRB"})

   IF n = 1 .and. procname(6) <> "TUDOOK" 
      _lret := .f.
      MsgAlert("Nใo ้ Permitido incluir mais de um equipamento por chamado.")	
   ENDIF	

   // Verifica se a ocorr๊ncia estแ em branco.
   // Este teste ้ necessแrio pois mesmo o campo estando como obrigat๓rio, ao confirmar com ocorr๊ncia em branco, o Sistema deixa gravar
   If Empty(Alltrim(aCols[1,_Ocorrencia]))
      _lret := .f.
      MsgAlert("Ocorr๊ncia nใo informada. Verifique!")
   Endif
                                                                 
RETURN _lRet